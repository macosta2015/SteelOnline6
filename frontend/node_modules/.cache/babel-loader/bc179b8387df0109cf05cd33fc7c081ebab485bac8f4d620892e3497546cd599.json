{"ast":null,"code":"var _jsxFileName = \"/Users/marioacosta/Documents/GitHub/SteelsOnline2/frontend/src/components/email/emailsender.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { Box, Button, CircularProgress, TextField, Typography } from '@mui/material';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction EmailAttachmentForm() {\n  _s();\n  const [file, setFile] = useState();\n  const [email, setEmail] = useState('');\n  const [emails, setEmails] = useState([]);\n  const [uploadedFile, setUploadedFile] = useState();\n  const [error, setError] = useState();\n  const [loading, setLoading] = useState(false);\n\n  // Handle file selection and validation\n  function handleFileChange(event) {\n    const selectedFile = event.target.files[0];\n    if (!selectedFile) return;\n\n    // Validate file size and type\n    if (selectedFile.size > 5000000) {\n      setError(new Error('File size should be less than 5MB.'));\n      return;\n    }\n    if (!['image/jpeg', 'image/png'].includes(selectedFile.type)) {\n      setError(new Error('Only JPEG or PNG files are allowed.'));\n      return;\n    }\n    setError(null);\n    setFile(selectedFile);\n  }\n\n  // Handle email input and add it to the email list\n  function handleEmailChange(event) {\n    setEmail(event.target.value);\n  }\n  function handleAddEmail() {\n    if (email && !emails.includes(email)) {\n      setEmails([...emails, email]);\n      setEmail('');\n    }\n  }\n\n  // Handle file upload and email sending\n  function handleSubmit(event) {\n    event.preventDefault();\n    if (!file || emails.length === 0) {\n      setError(new Error('Please select a file and enter at least one email.'));\n      return;\n    }\n    setLoading(true);\n    const formData = new FormData();\n    formData.append('file', file);\n    formData.append('fileName', file.name);\n    axios.post('http://localhost:5001/uploadFile', formData, {\n      headers: {\n        'content-type': 'multipart/form-data'\n      }\n    }).then(response => {\n      setUploadedFile(response.data.file);\n      setLoading(false);\n      // Here you would call EmailJS to send the email with the uploaded file\n    }).catch(error => {\n      setError(new Error('Error uploading file: ' + error.message));\n      setLoading(false);\n    });\n  }\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      maxWidth: 500,\n      mx: 'auto',\n      mt: 5,\n      padding: 3,\n      borderRadius: 2,\n      boxShadow: 3\n    },\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h5\",\n      gutterBottom: true,\n      children: \"Send Attachment via Email\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(TextField, {\n        fullWidth: true,\n        label: \"Email\",\n        value: email,\n        onChange: handleEmailChange,\n        variant: \"outlined\",\n        margin: \"normal\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        color: \"primary\",\n        onClick: handleAddEmail,\n        children: \"Add Email\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body2\",\n        gutterBottom: true,\n        sx: {\n          mt: 2\n        },\n        children: [\"Emails: \", emails.join(', ')]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"outlined\",\n        component: \"label\",\n        fullWidth: true,\n        sx: {\n          mt: 3\n        },\n        children: [\"Select File\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          hidden: true,\n          onChange: handleFileChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"submit\",\n        variant: \"contained\",\n        color: \"primary\",\n        fullWidth: true,\n        sx: {\n          mt: 3\n        },\n        children: \"Upload & Send Email\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 17\n      }, this), loading && /*#__PURE__*/_jsxDEV(CircularProgress, {\n        sx: {\n          mt: 2\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 29\n      }, this), uploadedFile && /*#__PURE__*/_jsxDEV(Typography, {\n        children: \"File uploaded successfully!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 34\n      }, this), error && /*#__PURE__*/_jsxDEV(Typography, {\n        color: \"error\",\n        children: error.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 27\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 9\n  }, this);\n}\n_s(EmailAttachmentForm, \"VKmPtGS/hwTyrxRphr85dwSQlMA=\");\n_c = EmailAttachmentForm;\nexport default EmailAttachmentForm;\nvar _c;\n$RefreshReg$(_c, \"EmailAttachmentForm\");","map":{"version":3,"names":["React","useState","axios","Box","Button","CircularProgress","TextField","Typography","jsxDEV","_jsxDEV","EmailAttachmentForm","_s","file","setFile","email","setEmail","emails","setEmails","uploadedFile","setUploadedFile","error","setError","loading","setLoading","handleFileChange","event","selectedFile","target","files","size","Error","includes","type","handleEmailChange","value","handleAddEmail","handleSubmit","preventDefault","length","formData","FormData","append","name","post","headers","then","response","data","catch","message","sx","maxWidth","mx","mt","padding","borderRadius","boxShadow","children","variant","gutterBottom","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","fullWidth","label","onChange","margin","color","onClick","join","component","hidden","_c","$RefreshReg$"],"sources":["/Users/marioacosta/Documents/GitHub/SteelsOnline2/frontend/src/components/email/emailsender.js"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\nimport { Box, Button, CircularProgress, TextField, Typography } from '@mui/material';\n\nfunction EmailAttachmentForm() {\n    const [file, setFile] = useState();\n    const [email, setEmail] = useState('');\n    const [emails, setEmails] = useState([]);\n    const [uploadedFile, setUploadedFile] = useState();\n    const [error, setError] = useState();\n    const [loading, setLoading] = useState(false);\n\n    // Handle file selection and validation\n    function handleFileChange(event) {\n        const selectedFile = event.target.files[0];\n        if (!selectedFile) return;\n\n        // Validate file size and type\n        if (selectedFile.size > 5000000) {\n            setError(new Error('File size should be less than 5MB.'));\n            return;\n        }\n\n        if (!['image/jpeg', 'image/png'].includes(selectedFile.type)) {\n            setError(new Error('Only JPEG or PNG files are allowed.'));\n            return;\n        }\n\n        setError(null);\n        setFile(selectedFile);\n    }\n\n    // Handle email input and add it to the email list\n    function handleEmailChange(event) {\n        setEmail(event.target.value);\n    }\n\n    function handleAddEmail() {\n        if (email && !emails.includes(email)) {\n            setEmails([...emails, email]);\n            setEmail('');\n        }\n    }\n\n    // Handle file upload and email sending\n    function handleSubmit(event) {\n        event.preventDefault();\n\n        if (!file || emails.length === 0) {\n            setError(new Error('Please select a file and enter at least one email.'));\n            return;\n        }\n\n        setLoading(true);\n\n        const formData = new FormData();\n        formData.append('file', file);\n        formData.append('fileName', file.name);\n\n        axios.post('http://localhost:5001/uploadFile', formData, {\n            headers: { 'content-type': 'multipart/form-data' },\n        })\n            .then((response) => {\n                setUploadedFile(response.data.file);\n                setLoading(false);\n                // Here you would call EmailJS to send the email with the uploaded file\n            })\n            .catch((error) => {\n                setError(new Error('Error uploading file: ' + error.message));\n                setLoading(false);\n            });\n    }\n\n    return (\n        <Box sx={{ maxWidth: 500, mx: 'auto', mt: 5, padding: 3, borderRadius: 2, boxShadow: 3 }}>\n            <Typography variant=\"h5\" gutterBottom>Send Attachment via Email</Typography>\n\n            <form onSubmit={handleSubmit}>\n                <TextField\n                    fullWidth\n                    label=\"Email\"\n                    value={email}\n                    onChange={handleEmailChange}\n                    variant=\"outlined\"\n                    margin=\"normal\"\n                />\n                <Button variant=\"contained\" color=\"primary\" onClick={handleAddEmail}>\n                    Add Email\n                </Button>\n\n                <Typography variant=\"body2\" gutterBottom sx={{ mt: 2 }}>\n                    Emails: {emails.join(', ')}\n                </Typography>\n\n                <Button variant=\"outlined\" component=\"label\" fullWidth sx={{ mt: 3 }}>\n                    Select File\n                    <input type=\"file\" hidden onChange={handleFileChange} />\n                </Button>\n\n                <Button type=\"submit\" variant=\"contained\" color=\"primary\" fullWidth sx={{ mt: 3 }}>\n                    Upload & Send Email\n                </Button>\n\n                {loading && <CircularProgress sx={{ mt: 2 }} />}\n                {uploadedFile && <Typography>File uploaded successfully!</Typography>}\n                {error && <Typography color=\"error\">{error.message}</Typography>}\n            </form>\n        </Box>\n    );\n}\n\nexport default EmailAttachmentForm;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}